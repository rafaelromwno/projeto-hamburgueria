@model FileManagerModel

@{
    ViewBag.Title = "Arquivos";
}

@if (Model.Files != null)
{
    <h3 class="my-3">Imagens:</h3>
    <hr />
    @* Utiliza a variável caminho para facilitar a leitura *@
    var caminho = Model.PathImagensProduto;
    <div class="row row-cols-2 row-cols-sm-3 row-cols-md-4 g-4">

        @foreach (FileInfo file in Model.Files)
        {
            <div class="col text-center">
                <img src="~/@caminho/@file.Name" class="img-fluid rounded shadow-sm" width="125" height="125" title="@file.Name" asp-append-version="true" alt="@file.Name">
                <div class="mt-2">
                    <a href="@Url.Action("Deletefile", "AdminImagens", new { fname = file.Name })" class="btn btn-sm btn-danger">Deletar</a>
                </div>
            </div>
        }
    </div>
}

@if (ViewData["Erro"] != null)
{
    <div class="text-center mt-4">
        <img src="~/images/erro1.png" class="img-fluid" width="150" height="150" alt="Erro">
        <h4 class="text-danger mt-3">@ViewData["Erro"]</h4>
    </div>
}

<div class="clearfix"></div>
<hr />

<div class="text-center mt-3">
    <p>Para ver o nome do arquivo, passe o mouse sobre a imagem.</p>
</div>

<div class="form-group text-center mt-3">
    <a class="btn btn-outline-info" asp-controller="AdminImagens" asp-action="Index">Retornar</a>
</div>
